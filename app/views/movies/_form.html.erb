<%= form_with model: movie do |f| %>
  <div>
    <%=  f.label :title, 'Título'%>
    <%=  f.text_field :title %>
  </div>
  <div>
    <%= f.label :poster, 'Pôster' %>
    <%= f.file_field :poster, accept: 'image/jpeg, image/png' %>
  </div>
  <div>
    <%= f.label :year, 'Ano de lançamento' %>
    <%= select_year movie.year || Date.today, start_year: 1895, end_year: Date.today.year + 10, prefix: "movie", field_name: 'year' %>
  </div>
  <div>
    <%= f.label :synopsis, 'Sinopse' %>
    <%= f.text_area :synopsis %>
  </div>
  <div>
    <%= f.label :length, 'Duração (min)' %>
    <%= f.number_field :length %>
  </div>
  <div>
    <%= f.fields_for :country, movie.country do |country| %>
      <%= country.label :name, 'País de origem' %>
      <%= country.text_field :name %>
    <% end %>
  </div>
  <div>
    <%= f.fields_for :genre, movie.genre do |genre| %>
      <%= genre.label :name, 'Gênero' %>
      <%= genre.text_field :name %>
    <% end %>
  </div>
  <div>
    <%= f.label :director_id, 'Diretor' %>
    <%= f.collection_select :director_id, Director.order(:name), :id, :name, selected: params[:director] %>
  </div>
  <div>
    <%= f.label :published, 'Publicar' %>
    <%= f.check_box :published, checked: movie.published %>
  </div>
  <%= f.submit 'Enviar' %>
<% end %>
